"use strict";(self["webpackChunkhotelvue"]=self["webpackChunkhotelvue"]||[]).push([[136],{8136:function(e,o,t){t.r(o),t.d(o,{default:function(){return ve}});var r=t(3396);const a={class:"container"},s={class:"quartos-resumo"},n={class:"todos-os-quartos-reserva"},i={class:"resumo-reserva"};function c(e,o,t,c,l,u){const d=(0,r.up)("ComponenteBarraReservar"),m=(0,r.up)("CardReserva"),p=(0,r.up)("ComponenteResumoReserva"),h=(0,r.up)("ComponenteServicos");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("main",a,[(0,r._)("section",null,[(0,r.Wm)(d)]),(0,r._)("div",s,[(0,r._)("div",n,[(0,r.Wm)(m)]),(0,r._)("div",i,[(0,r.Wm)(p)])])]),(0,r.Wm)(h)],64)}var l=t(7139);const u={key:0,class:"quarto-reserva display-f"},d={class:"img-reserva"},m=["src"],p={class:"cada-quarto-reserva"},h={class:"text-valor-reserva"},g={class:"radio-reserva"},v=["onChange"];function k(e,o,t,a,s,n){return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.$store.getters.rCard,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"quarto-box display-f flex-dc"},[o<n.soma?((0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",d,[(0,r._)("img",{src:e.img,alt:"Imagem",style:{}},null,8,m)]),(0,r._)("div",null,[(0,r._)("div",p,[(0,r._)("h3",null,(0,l.zw)(e.title),1),(0,r._)("p",null,(0,l.zw)(e.description),1)]),(0,r._)("div",h,(0,l.zw)(e.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1),(0,r._)("div",g,[(0,r._)("label",null,[(0,r._)("input",{type:"radio",name:"reservar-quarto",class:"reservar",onChange:t=>n.updateAcomodacao(e.title,e.price,e.img,o)},null,40,v),(0,r.Uk)(" Selecionar Quarto ")])])])])):(0,r.kq)("",!0)])))),128)}var _={name:"CardReserva",methods:{updateAcomodacao:function(e,o,t,r){this.resetCardStyle();const a=document.querySelectorAll(".quarto-reserva")[r];this.$store.commit("storeAcomodacao",e),this.$store.commit("storeQuartoPreco",o),this.$store.commit("storeImg",t),a.style.backgroundColor="#063f57",a.style.color="white"},resetCardStyle:function(){const e=document.querySelectorAll(".quarto-reserva");e.forEach((e=>{e.style.backgroundColor="#f1f1f1",e.style.color="black"}))}},computed:{soma:function(){let e=parseInt(this.$store.getters.getCounter)+3;return e}}},f=t(89);const D=(0,f.Z)(_,[["render",k]]);var C=D,b=t(9242);const y=e=>((0,r.dD)("data-v-3c0ca55c"),e=e(),(0,r.Cn)(),e),S=y((()=>(0,r._)("h2",null,"Resumo da Reserva",-1))),$={class:"resumo-box"},w={key:0,class:"detalhesCupom"},R=y((()=>(0,r._)("summary",null,"Aplique seu cupom de desconto",-1)));function q(e,o,t,a,s,n){const i=(0,r.up)("CompServicos");return(0,r.wg)(),(0,r.iD)("div",null,[S,(0,r._)("div",$,[(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Uk)(" Apartamento: "),(0,r._)("span",null,(0,l.zw)(e.$store.getters.bookingData.acomodacao),1)]),(0,r._)("div",null,[(0,r._)("li",null,[(0,r.Uk)(" Check-in: "),(0,r._)("span",null,(0,l.zw)(e.$store.getters.bookingData.checkin),1)]),(0,r._)("li",null,[(0,r.Uk)(" Check-out: "),(0,r._)("span",null,(0,l.zw)(e.$store.getters.bookingData.checkout),1)]),(0,r._)("li",null,[(0,r.Uk)(" Nº de pessoas: "),(0,r._)("span",null,(0,l.zw)(e.$store.getters.bookingData.adultos),1)]),(0,r._)("li",null,[(0,r.Uk)(" Noites: "),(0,r._)("span",null,(0,l.zw)(e.$store.getters.bookingData.noites),1)])]),(0,r._)("li",null,[(0,r.Uk)(" Serviços: "),(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.$store.state.dadosReserva.servicos,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.nome},[(0,r._)("span",null," ✅ "+(0,l.zw)(e.nome)+" - "+(0,l.zw)(this.moeda(e.preco)),1)])))),128))])])])]),(0,r.Wm)(i),(0,r._)("div",null,[0==this.temCupom?((0,r.wg)(),(0,r.iD)("details",w,[R,(0,r._)("h4",null,"Seu cupom é: "+(0,l.zw)(e.cupomAleatorio),1),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>s.cupom=e),onChange:o[1]||(o[1]=(...e)=>s.cupom&&s.cupom(...e)),placeholder:"Digite o código"},null,544),[[b.nr,s.cupom]])])):(0,r.kq)("",!0),(0,r._)("p",null,"Valor total: "+(0,l.zw)(this.total()),1)]),(0,r._)("button",{onClick:o[2]||(o[2]=(...e)=>n.cadastrarReserva&&n.cadastrarReserva(...e)),class:"display-f",type:"button",id:"botao__confirmar__reserva"}," Confirmar reserva ")])}t(7658);const A=e=>((0,r.dD)("data-v-3243d06e"),e=e(),(0,r.Cn)(),e),I={class:"detalhesServicos"},z=A((()=>(0,r._)("summary",null,"Serviços Adicionais",-1))),N=["value"];function U(e,o,t,a,s,n){return(0,r.wg)(),(0,r.iD)("details",I,[z,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.servicos,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.nome},[(0,r.wy)((0,r._)("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=e=>s.itens=e),onChange:o[1]||(o[1]=o=>e.$store.commit("storeServicos",s.itens)),name:"itens",value:{nome:t.nome,preco:t.preco}},null,40,N),[[b.e8,s.itens]]),(0,r.Uk)(" "+(0,l.zw)(t.nome)+" - "+(0,l.zw)(this.moeda(t.preco)),1)])))),128))])}var x={name:"CmpServicos",data(){return{servicos:[{nome:"Spa",preco:100},{nome:"Passeio de Barco",preco:100},{nome:"Passeio Entre Ilhas ",preco:100},{nome:"Café da Manhã no Quarto",preco:100},{nome:"Trilha Ecológica",preco:100}],itens:[]}},methods:{moeda(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}}};const B=(0,f.Z)(x,[["render",U],["__scopeId","data-v-3243d06e"]]);var P=B,Z={name:"ComponenteResumoReserva",cupomAleatorio:"",components:{CompServicos:P},data(){return{cupom:"",temCupom:!1,checkout:this.$store.getters.bookingData.checkout}},methods:{geraCupom(){this.cupomAleatorio=Math.random().toString(36).substring(2,10),this.$store.getters.bookingData.cupomDesconto=this.cupomAleatorio},salvar(e,o){localStorage.setItem(e,JSON.stringify(o))},obterDados(e){const o=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null;return o},totalServicos(){const e=this.$store.getters.bookingData.servicos;let o=0;for(let t of e)o+=t.preco;return o},cadastrarReserva(){if(!this.$store.getters.bookingData.checkin)return void alert("Selecione a data de checkin");if(!this.$store.getters.bookingData.checkout)return void alert("Selecione a data de checkout");if(this.$store.getters.bookingData.noites<0)return void alert("Selecione a data de checkin anterior a de checkout");if(!this.$store.getters.bookingData.adultos)return void alert("Selecione o número de pessoas");if(!this.$store.getters.bookingData.acomodacao)return void alert("Selecione o quarto");const e=this.$store.getters.bookingData.quartoPreco;if(0==this.temCupom)if(""===this.cupom){const e=confirm("Quer usar o cupom agora?");if(e)return}else{if(this.$store.getters.bookingData.cupomDesconto.length&&this.$store.getters.bookingData.cupomDesconto!==this.cupom)return void alert("Cupom inválido! Tente outro.");this.$store.getters.bookingData.cupomDesconto===this.cupom&&(this.salvar("cupom",this.$store.getters.bookingData.cupomDesconto),this.$store.commit("storeQuartoPreco",.9*e),this.temCupom=!0)}if(!this.$store.getters.bookingData.servicos.length){const e=confirm("Deseja adicionar algum serviço especial?");if(e)return}this.$store.commit("storeValorTotal",this.total()),console.log(this.$store.getters.bookingData.quartoPreco),this.valorTotal=this.total(),this.$store.commit("storeCupomDesconto",String(Math.random()).slice(2));const o=[],t=this.obterDados("reserva")?this.obterDados("reserva"):"";o.push(...t,{...this.$store.getters.bookingData,codigo:String(Math.random()).slice(2),noites:this.$store.getters.bookingData.noites}),this.salvar("reserva",o),this.limpar(),alert("Reserva realizada com sucesso!"),this.$router.push("/minhasreservas")},total(){let e;e=1==this.$store.getters.bookingData.adultos?1:1+.15*(Number(this.$store.getters.bookingData.adultos)-1);const o=this.moeda((this.totalServicos()+Number(this.$store.getters.bookingData.quartoPreco)*this.$store.getters.bookingData.noites)*e);return o||0},limpar(){const e={checkin:"",checkout:"",adultos:"",acomodacao:"",noites:"",servicos:[],cupomDesconto:"",valorTotal:""};this.$store.commit("storeBookingData",e)},moeda(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},updated(){console.log(this.cupom)},created(){localStorage.getItem("cupom")?this.temCupom=!0:this.geraCupom()},watch:{checkout(e){this.noites(),console.log(e)}}};const Y=(0,f.Z)(Z,[["render",q],["__scopeId","data-v-3c0ca55c"]]);var M=Y;const O={class:"reserva"},Q={class:"novoform",action:"",method:"get"},E={class:"display-f"};function H(e,o,t,a,s,n){const i=(0,r.up)("ComponenteInputReservar");return(0,r.wg)(),(0,r.iD)("fieldset",O,[(0,r._)("form",Q,[(0,r._)("ul",E,[(0,r.Wm)(i)])])])}const J=["for"],L=(0,r._)("br",null,null,-1),T=["type","id","name","onChange"],V=["type","id","name","min","max","placeholder","onChange"];function W(e,o,t,a,s,n){return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.content,(t=>((0,r.wg)(),(0,r.iD)("li",{key:t},[(0,r._)("label",{for:t.name},(0,l.zw)(t.legenda),9,J),L,"number"!=t.type?(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,type:t.type,id:t.name,name:t.name,ref_for:!0,ref:t.id,value:"","onUpdate:modelValue":o[0]||(o[0]=o=>e.value=o),onChange:o=>(n.updateDadosReserva(t.id,e.value),n.noites()),required:""},null,40,T)),[[b.YZ,e.value]]):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:1,type:t.type,id:t.id,name:t.name,min:t.min,max:t.max,placeholder:t.placeholder,value:"","onUpdate:modelValue":o[1]||(o[1]=o=>e.value=o),onChange:o=>n.updateDadosReserva(t.id,e.value),required:""},null,40,V)),[[b.YZ,e.value]])])))),128)}const K={checkin:{name:"check-in",id:"checkin",type:"date",legenda:"Data do check-in"},checkout:{name:"check-out",id:"checkout",type:"date",legenda:"Data do check-out"},adultos:{name:"N° de pessoas",id:"adultos",type:"number",min:"0",max:"4",placeholder:0,legenda:"N° de pessoas"}};var j={name:"ComponenteInputReservar",data(){return{content:K}},methods:{updateDadosReserva:function(e,o){e=e[0].toUpperCase()+e.substring(1),"Adultos"!=e&&(o=this.formatDates(o)),this.$store.commit(`store${e}`,o)},formatDates:function(e){let o=e;return o=o.slice(o.length-2,o.length)+"/"+o.slice(o.length-5,o.length-3)+"/"+o.slice(0,4),o},noites:function(){if(this.$store.getters.bookingData.checkout&&this.$store.getters.bookingData.checkin){const e=this.$store.getters.bookingData.checkout?Number(this.$store.getters.bookingData.checkout.slice(0,2))-Number(this.$store.getters.bookingData.checkin.slice(0,2)):"";this.$store.commit("storeNoites",e)}}}};const F=(0,f.Z)(j,[["render",W]]);var G=F,X={name:"ComponenteBarraReservar",components:{ComponenteInputReservar:G}};const ee=(0,f.Z)(X,[["render",H]]);var oe=ee;const te=e=>((0,r.dD)("data-v-f376dc84"),e=e(),(0,r.Cn)(),e),re={class:"dropdown__serviços"},ae={key:0,class:"dropdown__overlay",id:"dropdown__overlay"},se={class:"dropdown__content",id:"dropdown__content"},ne=te((()=>(0,r._)("h2",null,[(0,r._)("span",null,"Adicione Mais Serviços")],-1))),ie=["nome","id"],ce=["for"],le=te((()=>(0,r._)("button",{type:"button",id:"btn__sair__servico"},[(0,r._)("i",{class:"fa-solid fa-square-plus"}),(0,r.Uk)(" Adicionar ")],-1)));function ue(e,o,t,a,s,n){return(0,r.wg)(),(0,r.iD)("div",re,[e.$store.getters.modalState.servicos?((0,r.wg)(),(0,r.iD)("div",ae,[(0,r._)("div",se,[(0,r._)("i",{class:"fa-sharp fa-solid fa-xmark fechar",id:"btn__fechar__servicos",onClick:o[0]||(o[0]=e=>n.showAddServices())}),ne,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.servicos,(e=>((0,r.wg)(),(0,r.iD)("section",{key:e.nome},[(0,r._)("div",null,[(0,r._)("input",{type:"checkbox",nome:e.nome,id:e.nome,value:"100"},null,8,ie),(0,r._)("label",{for:e.nome,class:(0,l.C_)("dropdown__content__"+e.nome)},[(0,r._)("span",null,(0,l.zw)(e.nome),1),(0,r._)("span",null," - R$ "+(0,l.zw)(e.preco),1)],10,ce)])])))),128)),le])])):(0,r.kq)("",!0)])}var de={nome:"componenteServico",data(){return{servicos:[{nome:"Spa",preco:"100,00"},{nome:"Passeio de Barco",preco:"100,00"},{nome:"Passeio Entre Ilhas ",preco:"100,00"},{nome:"Café da Manhã no Quarto",preco:"100,00"},{nome:"Trilha Ecológica",preco:"100,00"}],modalOn:!0}},methods:{showAddServices:function(){this.$store.commit("storeServicos",!1)}}};const me=(0,f.Z)(de,[["render",ue],["__scopeId","data-v-f376dc84"]]);var pe=me,he={name:"ComponentCardReserva",components:{CardReserva:C,ComponenteResumoReserva:M,ComponenteBarraReservar:oe,ComponenteServicos:pe},beforeMount(){localStorage.getItem("cardContent")&&(this.$store.commit("storeCardContent",JSON.parse(localStorage.getItem("cardContent"))),localStorage.getItem("counter")?this.$store.state.contador=localStorage.getItem("counter"):this.$store.state.contador=0)},mounted(){localStorage.getItem("cardContent")&&this.updateAcomodacao(JSON.parse(localStorage.getItem("cardContent"))[0].title,JSON.parse(localStorage.getItem("cardContent"))[0].price,JSON.parse(localStorage.getItem("cardContent"))[0].img,0)},methods:{updateAcomodacao:function(e,o,t,r){this.resetCardStyle();const a=document.querySelectorAll(".quarto-reserva")[r];this.$store.commit("storeAcomodacao",e),this.$store.commit("storeQuartoPreco",o),this.$store.commit("storeImg",t),console.log("cardContent"[0].price),a.style.backgroundColor="#063f57",a.style.color="white",document.querySelectorAll("input[type=radio]")[0].setAttribute("checked","checked")},resetCardStyle:function(){const e=document.querySelectorAll(".quarto-reserva");e.forEach((e=>{e.style.backgroundColor="#f1f1f1",e.style.color="black"}))}}};const ge=(0,f.Z)(he,[["render",c]]);var ve=ge}}]);
//# sourceMappingURL=136.eb95203f.js.map